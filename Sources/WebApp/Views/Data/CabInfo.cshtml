@using WebApp.Models.DTO;
@using WebApp.Models.UserData;
@using WebApp.Settings;
@using WebApp.Models;
@using System.Collections;

@model CabInfoPage;

@{
    Layout = "_CabInfo";

    var tableData = ViewData["TableData"];

    TranslateMetadata<IMetaData> equipmentMeta = new();
    equipmentMeta.Assign<EquipmentDTO>();

    Context.Response.Cookies.Append("cabid", Model.Cabinet.Id.ToString());
}

@section CabInfo {
    <div id="cab-info-container">
        <div id="main-cab-info">
            <div id="cab-text-info">
                <p id="num">@Model.Cabinet.Num</p>
                <p id="planNum">@Model.Cabinet.PlanNum</p>
                <p id="group">@Model.Cabinet.Group</p>
                <p id="floor">@Model.Cabinet.Floor</p>
                <p id="height">@Model.Cabinet.Height</p>
                <p id="length">@Model.Cabinet.Length</p>
                <p id="width">@Model.Cabinet.Width</p>
                <p id="squareFloor">@Model.Cabinet.SquareFloor</p>
                <p id="squereWall1">@Model.Cabinet.SquareWall_1</p>
                <p id="squereWall2">@Model.Cabinet.SquareWall_2</p>
            </div>
            <div id="cab-info-buttons">
                <button class="defaultButton" title="edit-cab-info" id="cab-info-edit">
                    ✎
                </button>
            </div>
        </div>

        <div id="cab-photos">
            <img class="skeleton" />
            <img class="skeleton" />
            <img class="skeleton" />
            <img class="skeleton" />
            @* <img title="img-1" />
            <img title="img-2" />
            <img title="img-3" /> *@      
        </div>

        <div id="cab-select-info">
            <div id="cab-select-info-buttons">
                <button class="cab-select-info-button" id="to-equipments">Оборудование</button>
                <button class="cab-select-info-button" id="to-test-table">Test1</button>
                <button class="cab-select-info-button">Test2</button>
                <button class="cab-select-info-button">Test3</button>

                <div id="cab-select-info-button-bg"></div>
            </div>
        </div>

        <!--test-->
        <div id="table-data-view">
            <div id="main-table">
                @* @await Html.PartialAsync("_TableTemplatePartial", Model) *@
            </div>
        </div>

    </div>

    @* <div id="show-image-list">
        <div id="black-screen-img-list"></div>
        <div id="image-list-form">
            <div id="image-list-meta">
                <p id="image-list-meta-name">
                    Фотографии
                </p>
                <button id="image-list-close" class="defaultButton">
                    X
                </button>
            </div>
            <div id="image-list">
            </div>
        </div>
    </div> *@

    <template id="show-image-form-button">
        <button class="defaultButton" type="button" id="open-image-form" title="show-more-photos">
            +
        </button>
    </template>
}